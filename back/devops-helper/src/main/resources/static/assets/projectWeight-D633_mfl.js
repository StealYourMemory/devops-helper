import{a as o}from"./axios-CEz4Hwn_.js";const y=1e4,D=3e3,d=.2,l="/common-deploy";async function Y(t){return(await o.post(`${l}/build-deploy`,t)).data}async function O(t){return(await o.post(`${l}/build-only`,t)).data}async function f(t){return(await o.post(`${l}/deploy-only`,t)).data}async function T(t,e){return(await o.get(`${l}/detail/${t}/${e}`)).data}async function S(t,e){let s=`${l}/detail/list`;return t&&e?s+=`?envName=${t}&projectName=${e}`:t?s+=`?envName=${t}`:e&&(s+=`?projectName=${e}`),console.log("yhs-test:url"+s),(await o.get(s)).data}async function A(t){return(await o.get(`${l}/progress/${t}`)).data}class c{static set(e,s){localStorage.setItem(e,s)}static get(e){return localStorage.getItem(e)}static remove(e){localStorage.removeItem(e)}static clear(){localStorage.clear()}}const L="DEPLOY_TAB_ACTIVE_KEY",I="BUILD_AND_DEPLOY_REQUEST_KEY",m="BUILD_ONLY_REQUEST_KEY",R="DEPLOY_ONLY_REQUEST_KEY",h="BUILD_AND_TRANSFER_KEY",B="BuildAndDeploy",N="BuildOnly",P="DeployOnly",u="PROJECT_WEIGHT_MAP_KEY",i="PROJECT_WEIGHT_NUMBER_KEY";function U(t){var e;if(t!=null&&t.length>0){const s=Number(c.get(i))+d;c.set(i,s.toString());const a=E(),n=((e=a.get(t))==null?void 0:e.weight)||0;a.set(t,{project:t,weight:n+s});const r=Array.from(a,([_,g])=>[_,g]);c.set(u,JSON.stringify(r))}}function K(t){const e=E();t.sort((s,a)=>{var n,r;return(((n=e.get(a.value))==null?void 0:n.weight)||0)-(((r=e.get(s.value))==null?void 0:r.weight)||0)})}function E(){const t=c.get(u),e=new Map;return t!=null&&JSON.parse(t).forEach(([a,n])=>{e.set(a,n)}),e}export{B,L as D,c as L,U as a,y as b,Y as c,I as d,T as e,N as f,O as g,m as h,P as i,f as j,R as k,A as l,S as m,h as n,K as p,D as t};
